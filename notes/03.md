# Tiny React Ch3 Updating vDOM

Now let's talk about the reactivity.

## Save the Previous Fiber

We have said that, the updating of vDOM is done by comparing the previous fiber with the new fiber. So we need to save the previous fiber.

It's simple, change it in the commit function.

```typescript
let previousFiber: Fiber | null = null

function commit() {
    function commitChildren(fiber: Fiber | null) {
        if(!fiber) {
            return
        }
        if(fiber.dom && fiber.parent?.dom) {
            fiber.parent.dom.appendChild(fiber.dom)
        }
        commitChildren(fiber.child)
        commitChildren(fiber.sibling)
    }
    commitChildren(wip)
    wipParent?.appendChild(wip!.dom!)
    previousFiber = wip
    wip = null
}
```

